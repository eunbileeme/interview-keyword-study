# 김의진

## 운영체제

### 운영체제란?

* 컴퓨터 시스템의 핵심 소프트웨어
* 컴퓨터 하드웨어와 애플리케이션 간 상호작용을 관리

![image](https://github.com/kmularise/TIL/assets/106499310/91e0f757-2e7e-407b-9ce1-de6e1ea5cb76)

### 운영체제의 역할

* 자원관리 : CPU, 메모리, 저장 장치, 입출력 장치 등 하드웨어에 자원을 할당 및 관리
* 메모리 관리 : 메모리 할당과 해제, 가상 메모리 관리
* 프로세스 관리 : 실행 중인 프로그램인 프로세스 관리, 프로세스의 생성, 실행 등의 작업 제어, 여러 프로세스 간 자원 공유와 협력 관리

## 커널

### 커널이란?

* 운영체제 중 항상 메모리에 올라가 있는 핵심 부분입니다. 하드웨어와 응용 프로그램 사이에서 인터페이스를 제공하는 역할을 수행하고 있습니다.
* 시스템 인터페이스를 제공하며 메모리, 프로세스, 파일시스템, I/O 디바이스 등 운영체제의 중심 역할을 하고 있습니다.

## 컴퓨터 구조

### CPU의 구조

* 제어 장치(CU) : 컴퓨터의 시스템을 작동하고 통제하고 지시하는 장치, 기억 장치로부터 명령을 해석, 해석에 따라 명령어 실행에 필요한 제어 신호를 타 장치로 보낸다.
* 연산 장치(ALU) : 명령어 실행 위한 연산 수행
* 레지스터 : CPU 내 기억 장치, 레지스터는 메모리 계층의 최상위에 위치, 가장 빠른 속도로 접근 가능

### 인터럽트

* CPU가 명령어를 읽어들이고 있을 때, 입출력 하드웨어 등의 장치나 예외상황이 발생하여 처리가 필요할 경우 CPU에게 알려 처리할 수 있도록 하는 것

## CPU 캐시 구조

### 캐시의 지역성

* 시간적 지역성 : 참조된 주소의 내용은 곧 다음에 다시 참조되는 특성
* 공간적 지역성 : 기억장치 내에 서로 인접하여 저장되어 있어 데이터들이 연속적으로 접근될 가능성이 높아지는 특성

### CPU가 캐시를 삭제하는 알고리즘 (Cache eviction)

* FIFO : 먼저 들어온 주소 삭제
* LRU : 가장 오래 전에 참조된 주소 삭제
* LFU : 가장 많이 사용되지 않은 주소 삭제

## 커널 모드

### 커널 모드란?

커널모드란 모든 컴퓨터 자원에 접근할 수 있는 모드입니다. modebit을 통해 커널모드와 유저모드를 구분할 수 있고, 커널모드는 modebit 0인 경우입니다. 커널모드에서는 시스템 콜을 호출할 수 있습니다.

| 항목      | 커널 모드                  | 유저모드                                              |
| ------- | ---------------------- | ------------------------------------------------- |
| 설명      | 모든 컴퓨터 자원에 접근할 수 있는 모드 | 유저가 접근할 수 있는 영역을 제한적으로 두며 컴퓨터 자원에 함부로 침범하지 못하는 모드 |
| modebit | 0                      | 1                                                 |
| 시스템 콜   | 호출 가능                  | 호출 불가능                                            |

### 보안상 이점

* 운영체제는 커널모드와 유저모드를 구분함으로써 시스템 자원에 대한 접근을 관리하고 있습니다. 사용자 프로세스 간의 충돌, 잘못된 접근, 시스템 자원의 남용을 방지하고 시스템 보안을 강화할 수 있다는 이점이 있습니다.

### 시스템 콜에 대해 설명해주세요

* 시스템콜이란 운영체제가 커널에 접근하기 위한 인터페이스이며 애플리케이션이 운영체제의 서비스를 받기 위해 커널함수를 호출할 때 사용합니다.
* 시스템 콜을 커널 모드에서 실행 할 수 있게 한 이유
  * 유저모드에서도 시스템 콜을 호출할 수 있다면, 악의적으로 시스템을 사용하는 경우나 사용자가 임의로 시스템 콜을 호출하여 시스템 전체를 망가뜨릴 수 있기 때문입니다. 따라서 시스템 콜은 커널모드에서만 실행할 수 있도록 했습니다. ![image](https://github.com/kmularise/TIL/assets/106499310/0f689ecb-0982-4367-b71b-7851f67166f8)

## 인터럽트

### 인터럽트란?

* 인터럽트란 어떤 신호가 들어왔을 때 CPU를 잠깐 정지시키는 것을 말합니다. 이 때 인터럽트 당한 시점의 레지스터와 프로그램 카운터(program counter)를 저장한 후 CPU 제어를 인터럽트 처리 루틴에 넘기게 됩니다. 인터럽트는 하드웨어 인터럽트와 소프르퉤어 인터럽트로 나뉩니다.

| 항목 | 하드웨어 인터럽트                                               | 소프트웨어 인터럽트(트랩(trap))         |
| -- | ------------------------------------------------------- | ---------------------------- |
| 설명 | 하드웨어가 발생시킨 인터럽트                                         | 소프트웨어에 의해 발생된 인터럽트           |
| 예시 | Timer interrupt, device controller 인터럽트(IO 디바이스에 의해 발생) | 프로그램 오류, 프로그램이 시스템콜을 호출하는 경우 |

### DMA 컨트롤러

* DMA 컨트롤러는 I/O 디바이스가 메모리에 직접 접근할 수 있도록 하는 하드웨어 장치입니다.

### DMA 컨트롤러가 있을 경우 CPU 부하가 줄어드는 이유

* CPU 인터럽트 빈도가 줄어들어 CPU 부하가 줄어들기 때문입니다. DMA 컨트롤러를 사용하면 데이터 전송이 독립적으로 수행되므로, CPU에서 인터럽트가 줄어들기 때문입니다.
* PIO(programmed I/O) 방식에서 CPU는 데이터 전송을 위해 자주 인터럽트 되어야 합니다. DMA 컨트롤러는 메모리 버스를 직접 조작하여 데이터를 전송하고 CPU는 이 과정에 관여하지 않기 때문에, 메모리 버스 트래픽이 감소되고 CPU 부하가 줄어듭니다.

![image](https://github.com/kmularise/TIL/assets/106499310/0879013d-e537-446f-9784-ba15e6a01a3e)

### 컴파일러와 인터프리터의 차이

컴파일러는 프로그램 전체를 스캔하여 이를 모두 기계어로 번역합니다. 초기 스캔 시간이 꽤 걸리지만, 한번 실행 파일이 만들어지고 나면 빠릅니다. 다만 기계어 번역과정에서 더 많은 메모리를 사용합니다. 전체코드를 검사한 후 오류 메시지를 생성하기 때문에 실행 전 오류를 알 수 있습니다. 대표적으로 C, C++, Java가 있습니다.

인터프리터는 프로그램 실행 시 한번에 한 문장 씩 번역합니다. 한번에 한문장씩 번역 후 실행시키기 때문에 실행 시간이 느립니다. 컴파일러와 같은 오브젝트 코드 생성과정이 없기 때문에 메모리 효율이 좋습니다. 프로그램을 실행시키고 나서 오류를 발견하면 실행을 중지시킵니다. 따라서 실행 후에 오류를 알 수 있습니다. 대표적으로 Python, Ruby, JavaScript가 있습니다.
